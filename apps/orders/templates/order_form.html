{% extends 'base.html' %}
{% load static %}
{% load filters %}
{% block content %}
<div class="card m-2 p-2 rounded" >
    <div class="header p-2 grey lighten-2">
        <h3 class="m-2">
            {% if type == 'new' %} Dodaj nowe zlecenie produkcyjne {% elif type == 'detail' %}
                Dane zlecenia produkcyjnego {% else %} Zaktualizuj dane zlecenia produkcyjnego {% endif %}
        </h3>
    </div>
    <hr class="border border-default">
    <form method="post" class="mb-0 needs-validation" novalidate>
        {{ order_form.media }}
        {% csrf_token %}
        <div class="form-group card-body mb-0">
            <div class="row">
                <div class="col-sm-4 mb-2">
                    {{ order_form.order_sap_id.label_tag }}
                    {{ order_form.order_sap_id }}
                    <div class="invalid-feedback">
                        {{ order_form.validation_hints|get_item:'order_sap_id' }}
                    </div>
                </div>
                <div class="col-sm-4 mb-2">
                    {{ order_form.client.label_tag }}
                    {{ order_form.client }}
                    <div class="invalid-feedback">
                        {{ order_form.validation_hints|get_item:'client' }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4 mb-2">
                    {{ order_form.product.label_tag }}
                    {{ order_form.product }}
                    <div class="invalid-feedback">
                        {{ order_form.validation_hints|get_item:'product' }}
                    </div>
                </div>
                <div class="col-sm-4 mb-2">
                    {{ order_form.date_of_production.label_tag }}
                    {{ order_form.date_of_production }}
                </div>
            </div>
            <br>
            <h5>Dane techniczne</h5>
            <br>
            <div class="row">
                <div class="col-sm-4 mb-2">
                    {{ order_form.length.label_tag }}
                    {{ order_form.length }}
                </div>
                <div class="col-sm-4 mb-2">
                    {{ order_form.quantity.label_tag }}
                    {{ order_form.quantity }}
                    <div class="invalid-feedback">
                        {{ order_form.validation_hints|get_item:'quantity' }}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4 mb-2">
                    {{ order_form.internal_diameter_reference.label_tag }}
                    {{ order_form.internal_diameter_reference }}
                </div>
                <div class="col-sm-4 mb-2">
                    {{ order_form.external_diameter_reference.label_tag }}
                    {{ order_form.external_diameter_reference }}
                </div>
            </div>
            <span>
                {% if type == 'detail' %}
                    <a href="{% url 'orders:orders_list' %}" class="mt-3 btn btn-primary">Wstecz</a>
                {% else %}
                    <input type="submit" value="Zapisz" class="mt-3 btn btn-secondary">
                    <a href="{% url 'orders:orders_list' %}" class="ml-2 mt-3 btn btn-primary">Anuluj</a>
                {% endif %}
            </span>
        </div>
    </form>
</div>
<script type="text/javascript" src="{% static 'clientSideValidation.js' %}"></script>
{% endblock %}
